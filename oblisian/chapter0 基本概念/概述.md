#define
### **1. Node（节点）**
- **定义**：节点是 ROS 2 中的基本执行单元，通常是一个独立的进程，负责完成特定功能（如传感器驱动、数据处理等）。
- **特点**：
  - 节点之间通过 **Topic**、**Service** 或 **Action** 通信。
  - 每个节点有唯一名称，避免冲突。
- **作用**：模块化设计，将系统拆解为多个独立功能单元。

---

### **2. Topic（话题）**
- **定义**：基于 **发布-订阅（Pub/Sub）模型** 的异步通信机制。
- **特点**：
  - **单向数据流**：发布者（Publisher）发送消息，订阅者（Subscriber）接收。
  - **多对多通信**：支持多个发布者和订阅者。
  - **无阻塞**：订阅者无需主动请求，数据到达即触发回调。
  - **适合场景**：持续数据流（如传感器数据、状态更新）。
- **示例**：摄像头发布图像数据，多个节点订阅处理。

---

### **3. Service（服务）**
- **定义**：基于 **客户端-服务器（Client-Server）模型** 的同步通信机制。
- **特点**：
  - **双向交互**：客户端发送请求（Request），服务器返回响应（Response）。
  - **一对一通信**：一个请求对应一个响应。
  - **阻塞调用**：客户端等待服务器响应期间会阻塞。
  - **适合场景**：需要即时响应的任务（如开关控制、参数配置）。
- **示例**：请求机器人停止运动，服务器返回成功/失败。

---

### **4. Action（动作）**
- **定义**：基于 **目标-反馈-结果模型** 的异步通信机制，是 Service 的扩展。
- **特点**：
  - **长时任务**：支持长时间运行的任务（如导航到目标点）。
  - **三部分交互**：
    1. **Goal**：客户端发送目标（如“移动到坐标 (x,y)”）。
    2. **Feedback**：服务器持续反馈进度（如“当前已移动 50%”）。
    3. **Result**：任务完成后返回最终结果（如“到达目标”）。
  - **可取消**：客户端可中途取消任务。
  - **适合场景**：需要反馈和取消的复杂任务（如路径规划、机械臂控制）。
- **示例**：机器人执行抓取任务，实时反馈抓取进度。

---

### **关键区别总结**
| 特性       | Topic     | Service   | Action       |
| -------- | --------- | --------- | ------------ |
| **通信模型** | 发布-订阅（异步） | 请求-响应（同步） | 目标-反馈-结果（异步） |
| **数据方向** | 单向        | 双向        | 双向（带持续反馈）    |
| **实时性**  | 适合流式数据    | 适合即时响应    | 适合长时任务       |
| **多对多**  | 支持        | 一对一       | 一对一（但可多任务并行） |
| **取消机制** | 不支持       | 不支持       | 支持           |

---

### **联系与协作**
1. **节点通过通信机制交互**：  
   - 节点可以同时使用 Topic、Service 和 Action（例如：一个导航节点可能订阅传感器数据（Topic）、提供路径规划服务（Service）、并执行导航动作（Action））。
2. **层级关系**：  
   - **Action** 本质上是 **Service** 的增强版（底层由 Topic 实现反馈和取消功能）。
3. **适用场景互补**：  
   - 高频数据用 **Topic**，快速响应用 **Service**，复杂任务用 **Action**。

---

### **如何选择？**
- 需要持续数据流？ → **Topic**  
- 需要即时响应？ → **Service**  
- 需要长时间任务+进度反馈？ → **Action**

通过合理组合这些机制，可以构建灵活、高效的 ROS 2 系统。